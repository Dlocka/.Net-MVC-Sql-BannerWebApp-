
@{
    Layout = null;
}

<!DOCTYPE html>
<style>
    .featured-product-link {
        text-decoration: none; /* 移除下划线 */
        color: #808080;
        padding: 1px 2px;
        transition: background-color 0.3s, color 0.3s;
        font-size: 13px;
    }

    .featured-product-container {
        padding-left: 0%;
        white-space: nowrap; /* 不换行 */
    }

    .second-head {
        display: flex;
        align-items: center;
        padding: 20px;
        background-color: white;
    }

    .second-head-right {
        display: flex;
        flex-direction: column;
        margin-left: 40%;
        position: relative; /* 使子元素绝对定位相对于这个容器 */
    }

    .search-part {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }

    #search-text {
        padding: 8px; /* 调整输入框的内边距 */
        font-size: 14px; /* 调整输入框的字体大小 */
        border: 2px solid #FF4500; /* 添加边框 */
        /*border-radius: 5px; /* 添加圆角 */
        width: 380px; /* 设置输入框宽度 */
        margin: 0px;
    }

    #search-results {
        list-style-type: none;
        padding: 0;
        border: 1px solid #ccc;
        width: 380px; /* 设置与输入框相同的宽度 */
        position: absolute;
        top: 15px; /* 根据需要调整这个值，使ul出现在输入框下方 */
        background-color: white;
        z-index: 1000; /* 使得列表遮挡其他元素 */
    }

        #search-results li {
            padding: 5px;
            border-bottom: 1px solid #ccc;
            cursor: pointer;
        }

            #search-results li:hover {
                background-color: #f0f0f0;
            }


    #search-submit {
        background-color: #FF4500; /* 红色背景 */
        color: white; /* 白色文字 */
        padding: 8px 15px; /* 调整按钮的内边距 */
        font-size: 15px; /* 调整按钮的字体大小 */
        cursor: pointer;
        border: 0px solid #FF4500; /* 添加边框 */
        color: white; /* 设置文字颜色 */
        /*border-radius: 5px; /* 添加圆角 */
        transition: background-color 0.3s, color 0.3s;
        margin: 0px;
    }

        #search-submit:hover {
            background-color: #0056b3; /* 悬停时的背景颜色 */
        }

    .slider {
        position: relative;
        width: 80%;
        max-width: 800px;
        overflow: hidden;
        border: 2px solid #ddd;
        border-radius: 10px;
    }

    .slides {
        display: flex;
        transition: transform 0.5s ease-in-out;
    }

    .slide {
        min-width: 100%;
        box-sizing: border-box;
    }

    .banner-buttons {
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 10px;
    }

    .banner-nav-btn {
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        font-size: 14px;
        transition: background-color 0.3s;
    }

        .banner-nav-btn:hover {
            background-color: #ddd;
        }

        .banner-nav-btn.active {
            background-color: #FF6347; /* 活跃按钮的颜色 */
            color: white;
        }

    .session {
        width: 50%;
        background-color: #ff3131;
        border-collapse: collapse; /* 移除单元格之间的空隙 */
        margin-left: 25px;
    }


    .session-td {
        padding: 0px 2px; /* 减少内边距 */
        text-align: center;
        white-space: nowrap; /* 防止换行 */
        margin-top: 0px;
        margin-bottom: 0px;
    }



    .category {
        height: 40px;
        width: 100%;
        background-color: #ff3131;
        display: flex;
        align-items: center; /* 使子元素在垂直方向上居中对齐 */
        padding: 0 10px; /* 给容器添加左右内边距 */
        box-sizing: border-box;
    }

        .category a {
            color: white;
            text-decoration: none; /* 移除下划线 */
            font-family: "Microsoft YaHei", "SimHei", "Arial", sans-serif;
            font-size: 18px;
            height: 100%;
            display: flex;
            align-items: center; /* 垂直居中 */
            padding: 0 10px;
        }

    .products-category-link {
        background-color: #d52727;
        padding: 0px 0px; /* 添加更多的左右内边距 */
        margin-right: 10px;
        margin-left: 10px;
        width: 200px;
    }

    .session-link {
        color: white;
        text-decoration: none; /* 移除下划线 */
        font-family: "Microsoft YaHei", "SimHei", "Arial", sans-serif;
        font-size: 18px;
        white-space: nowrap; /* 防止换行 */
        margin-left: 15px; /* 设置后面几个链接的间隔 */
        margin-right: 40px;
    }

    .session-Cargo {
        color: white;
        text-decoration: none; /* 移除下划线 */
        font-family: "Microsoft YaHei", "SimHei", "Arial", sans-serif;
        font-size: 18px;
        white-space: nowrap; /* 防止换行 */
        margin-left: 350px; /* 设置后面几个链接的间隔 */
        margin-right: 15px;
    }

    .CartLogo {
        width: 25px;
        vertical-align: middle;
        margin-right: 15px;
    }

    .fa-chevron-down {
        vertical-align: middle;
    }

    .exhibition-area {
        display: flex;
    }

    .category-list {
        margin-top: 0px;
        list-style-type: none; /* 移除默认的项目符号 */
        padding: 0; /* 移除默认的内边距 */
        color: black;
    }

    ul.category-list li {
        position: relative; /* 使 ::before 伪元素相对于 li 定位 */
        padding-left: 20px; /* 为箭头腾出空间 */
        margin-bottom: 0px; /* 每个列表项之间的间距 */
        border: 1px solid #ccc; /* 添加边框 */
        border-color: #850303;
        border-width: 1px;
        line-height: 2.25;
        width: 200px;
    }

        ul.category-list li::before {
            content: '＞'; /* 使用类似 "> " 的箭头符号 */
            position: absolute; /* 绝对定位 */
            left: 0; /* 左对齐 */
            top: 0; /* 顶部对齐 */
            font-size: 15px; /* 调整箭头大小 */
            color: #e22323; /* 设置箭头颜色 */
        }

    .exhibi-li-link {
        text-decoration: none;
        color: black;
        font-size: 14px;
        font-family: "SimSun", "宋体", Arial, sans-serif;
    }



    .second-exh-left {
        width: 400px;
    }

    .second-exh-product-pic {
        width: 80px;
    }

    .second-exh-product {
        display: flex;
    }

    .second-exh-products_panel {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 16px; /* 可选，用于设置网格项之间的间距 */
    }

    .second-exh-product {
        border-color: #fbf5f5;
        border-width: 5px;
    }

    .second-main-area {
        display: flex;
    }

    .product-description {
        margin-top: 1px;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2; /* Limit to two lines */
        overflow: hidden;
        text-overflow: ellipsis;
        height: 3.2em; /* Set height for two lines based on line height */
        line-height: 1.5em; /* Adjust based on your line height */
        width: 150px; /* Set a fixed width */
        /*border: 1px solid #ccc;*/
        padding: 2px;
        box-sizing: border-box; /* Include padding and border in the element's total width and height */
        font-size: 13px;
    }

    .second-exh-head {
        background-color: #e6e8e7;
        display: flex;
        height: 30px;
        align-items: center; /* Center all labels vertically in the container */
    }

    .second-exh-label {
        display: flex; /* Use Flexbox for the label itself */
        align-items: center; /* Center content vertically within the label */
        justify-content: center; /* Center content horizontally within the label */
        font-family: "Microsoft YaHei", "SimHei", "Arial", sans-serif;
        width: 135px; /* Set desired width */
        text-align: center; /* Center text horizontally */
        padding-left: 6px; /* Optional: Adds some padding for better appearance */
        padding-right: 6px;
        border: 1px solid #ccc; /* Optional: Adds a border for better visualization */
        margin: 0px; /* Optional: Adds space between labels */
        /* Include padding and border in the element's total width and height */
        height: 100%
    }

    .second-exh-label-active {
        display: flex; /* Use Flexbox for the label itself */
        align-items: center; /* Center content vertically within the label */
        justify-content: center; /* Center content horizontally within the label */
        font-family: "Microsoft YaHei", "SimHei", "Arial", sans-serif;
        width: 135px; /* Set desired width */
        text-align: center; /* Center text horizontally */
        padding-left: 6px; /* Optional: Adds some padding for better appearance */
        padding-right: 6px;
        border: 1px solid #ccc; /* Optional: Adds a border for better visualization */
        margin: 0px; /* Optional: Adds space between labels */
        /* Include padding and border in the element's total width and height */
        height: 100%;
        background-color: #ff301b;
    }
</style>
<title>首页</title>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

<html>
<head>
    <meta name="viewport" content="width=device-width" />

</head>


<body>


    @Html.Partial("_PublicHead")
    <div class="second-head">
        <a href="https://www.taobao.com" target="_blank">
            <img src="~/Images/Logo.jpg" alt="Description of Image" style="width: 200px; height: auto;">
        </a>

        <div class="second-head-right">
            <div class="search-part">
                <input id="search-text" type="text" />
                <input type="submit" id="search-submit" value="搜索" />
            </div>
            <ul id="search-results"></ul>
            <div class="featured-product-container">
                <a class="featured-product-link" href="https://www.example.com/page1" target="_blank">潮流男装</a>
                <a class="featured-product-link" href="https://www.example.com/page2" target="_blank">七夕礼物</a>
                <a class="featured-product-link" href="https://www.example.com/page3" target="_blank">童装新品</a>
                <a class="featured-product-link" href="https://www.example.com/page4" target="_blank">防晒衫</a>
                <a class="featured-product-link" href="https://www.example.com/page4" target="_blank">换季折扣</a>
                <a class="featured-product-link" href="https://www.example.com/page4" target="_blank">医疗器械</a>
                <a class="featured-product-link" href="https://www.example.com/page4" target="_blank">松果药房</a>
            </div>
        </div>
    </div>
    <div class="category">
        <a href="" class="products-category-link">商品分类<i class="fas fa-chevron-down"></i></a>
        <a href="" class="session-link">商城首页</a>
        <a href="" class="session-link">品牌专区</a>
        <a href="" class="session-link">特价专区</a>
        <a href="" class="session-link">关于我们</a>
        <a href="" class="session-Cargo">
            <img src="~/Images/CartLogo (2).png" class="CartLogo" /><text>购物车(0)件</text>
        </a>
    </div>
    <div class="exhibition-area">
        <ul class="category-list">
            <li><a href="" class="exhibi-li-link">美容美体产品</a></li>
            <li><a href="" class="exhibi-li-link">养发美发</a></li>
            <li><a href="" class="exhibi-li-link">美容美体器械</a></li>
            <li><a href="" class="exhibi-li-link">养生保健</a></li>
            <li><a href="" class="exhibi-li-link">原材料、ORM</a></li>
            <li><a href="" class="exhibi-li-link">包装容器辅料</a></li>
            <li><a href="" class="exhibi-li-link">综合展区</a></li>
            <li><a href="" class="exhibi-li-link">美容院</a></li>
            <li><a href="" class="exhibi-li-link">设备仪器</a></li>
            <li><a href="" class="exhibi-li-link">小工具</a></li>
            <li><a href="" class="exhibi-li-link">电器</a></li>
            <li><a href="" class="exhibi-li-link">其他</a></li>

        </ul>
        <div class="slider">
            <div class="slides">
                <img src="~/Images/Banner1.jpeg" alt="Image 1" class="slide">
                <img src="~/Images/Banner2.jpeg" alt="Image 2" class="slide">
                <img src="~/Images/Banner3.jpg" alt="Image 3" class="slide">
                <img src="~/Images/Banner4.jpg" alt="Image 4" class="slide">
                <img src="~/Images/Banner5.jpeg" alt="Image 5" class="slide">
            </div>
            <div class="banner-buttons">
                <button class="banner-nav-btn" data-slide="1">1</button>
                <button class="banner-nav-btn" data-slide="2">2</button>
                <button class="banner-nav-btn" data-slide="3">3</button>
                <button class="banner-nav-btn" data-slide="4">4</button>
                <button class="banner-nav-btn" data-slide="5">5</button>
            </div>
        </div>
    </div>
    <div class="second-exhibition">
        <div class="second-exh-head">
            <label class="second-exh-label second-exh-label-collective">爆品疯抢</label>
            <label class="second-exh-label second-exh-label-collective">好评爆款</label>
            <label class="second-exh-label second-exh-label-collective">猜你喜欢</label>
            <label class="second-exh-label second-exh-label-collective">特价商品</label>
            <label class="second-exh-label second-exh-label-collective">热卖推荐</label>
        </div>

        <div class="second-main-area">
            <div class="second-exh-productarea">
                <img src="~/Images/Tea.jpg" class="second-exh-left" />
            </div>
            @*产品图片展示面板*@
            <div class="second-exh-products_panel">
                @*单个商品的图片和信息*@

            </div>
        </div>
    </div>
    <script>
        for (let LabelNumber = 0; LabelNumber < $('.second-exh-label-collective').length; LabelNumber++) {
    (function (LabelNumber) {
        console.log(LabelNumber);
        console.log($('.second-exh-label').eq(LabelNumber).text());
        $('.second-exh-label').eq(LabelNumber).click(function () {
            console.log('点击后'+$('.second-exh-label').eq(0).text());
            console.log('点击后'+$('.second-exh-label').eq(1).text());
            console.log('点击后'+$('.second-exh-label').eq(2).text());
            console.log('点击后'+$('.second-exh-label').eq(3).text());
            console.log('点击后'+$('.second-exh-label').eq(4).text());
            console.log('点击后'+LabelNumber);


            console.log(LabelNumber);
            $('.second-exh-label-collective').removeClass("second-exh-label-active").addClass("second-exh-label");
            $(this).removeClass("second-exh-label").addClass("second-exh-label-active");
            var ChoosedLabel = $('.second-exh-label-active');
            var text = ChoosedLabel.text();
            $.ajax({
                url: '/Home/GetExhibitProduct_HomePage',
                data: { LabelNumber: LabelNumber },
                type: 'Post',
                dataType: 'json',
                success: function (data) {
                    // update data of product
                    for (var i = 0; i < data.products.length; i++) {
                        $('.second-exh-product-pic').eq(i).attr('src', data.products[i].Image);
                        $('.product-description').eq(i).text(data.products[i].description);
                        $('.price').eq(i).text(data.products[i].price.toFixed(2));
                    }
                    $('.exhibit-label-name').text($('.second-exh-label-active').text());
                },
                error: function () {
                    console.log('出错了！');
                },
            });
        });
    })(LabelNumber);
}
        $('.second-exh-label').eq(0).trigger('click');


        $(document).ready(function ()
        {
            $('#search-text').on('input', function () {
                var searchTerm = $(this).val();
                console.log(searchTerm);
                if (searchTerm.length > 0) {
                    $.ajax({
                        url: '@Url.Action("CompleteSearchProducts", "Products")',
                        data: { inputString: searchTerm },
                        success: function (data) {
                            $('#search-results').empty();
                            $.each(data, function (index, product) {
                                $('#search-results').append('<li data-name="' + product.ProductName + '">' + product.ProductName + '</li>');
                            });
                        }
                    });
                } else {
                    $('#search-results').empty();
                }
            });

            $('#search-results').on('click', 'li', function () {
                $('#search-text').val($(this).data('name'));
                $('#search-results').empty();
            });

            $(document).click(function (e) {
                if (!$(e.target).closest('#search-text').length) {
                    $('#search-results').empty();
                }
            });
        
            const slides = $('.slides');
            const navButtons = $('.banner-nav-btn');

            navButtons.on('click', function () {
                const slideNumber = $(this).data('slide');
                const slideWidth = $('.slide').width();
                slides.css('transform', `translateX(-${(slideNumber - 1) * slideWidth}px)`);

                // 移除所有按钮的 active 类，并添加到被点击的按钮
                navButtons.removeClass('active');
                $(this).addClass('active');
            });
            //添加6个展示区的商品

            @*@{
    var imagePath = Url.Content("~/Images/product_1_1.jpg");
}*@
            var singleProductHtmlContent=`
                <div class="second-exh-product">
                    <img src="/Images/product_1_3.jpg" class="second-exh-product-pic" />
                    <div class="second-exh-product-text">
                        <p class="product-description">等待填充</p>
                        <text >价格:</text>
                        <text class="price">￥ 58.5</text>
                        <p class="exhibit-label-name">等待填充</p>
                    </div>
                </div>
            `;
            var ProductHTmlContent='';
            for (var i = 0; i < 6; i++)
            {ProductHTmlContent=ProductHTmlContent+singleProductHtmlContent;}


            // Add the HTML content to the parent element using jQuery
            $('.second-exh-products_panel').html(ProductHTmlContent);
        });

    </script>
</body>
</html>
